import{c as E,r as j}from"../common/index-49a413ef.js";import{b as fa,s as ga,S as ha,e as ia}from"../common/SvgIcon-8c6581e9.js";var ja=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);if(ja){var F=Element.prototype;F.matches||(F.matches=F.matchesSelector||F.webkitMatchesSelector||F.mozMatchesSelector||F.msMatchesSelector),F.closest||(F.closest=function(c){for(var b=this;b;){if(b.matches(c))return b;b=b.parentElement}return null})}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function c(b,d){if(this==null)throw new TypeError('"this" is null or not defined');var e=Object(this),a=e.length>>>0;if(a===0)return!1;var f=d|0,g=Math.max(f>=0?f:a-Math.abs(f),0);function i(h,k){return h===k||typeof h==="number"&&typeof k==="number"&&isNaN(h)&&isNaN(k)}for(;g<a;){if(i(e[g],b))return!0;g++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function c(b){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof b!=="function")throw new TypeError("callback must be a function");for(var d=Object(this),e=d.length>>>0,a=arguments[1],f=0;f<e;f++){var g=d[f];if(b.call(a,g,f,d))return g}}});function $a(c,b){if(!(c instanceof b))throw new TypeError("Cannot call a class as a function")}var P=$a;function ra(c,b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(c,e.key,e)}}function ab(c,b,d){return b&&ra(c.prototype,b),d&&ra(c,d),c}var Q=ab;function bb(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}var o=bb,sa=E(function(c){function b(d){return typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?c.exports=b=function e(a){return typeof a}:c.exports=b=function e(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b(d)}c.exports=b});function cb(c,b){return b&&(sa(b)==="object"||typeof b==="function")?b:o(c)}var R=cb,x=E(function(c){function b(d){return c.exports=b=Object.setPrototypeOf?Object.getPrototypeOf:function e(a){return a.__proto__||Object.getPrototypeOf(a)},b(d)}c.exports=b}),db=E(function(c){function b(d,e){return c.exports=b=Object.setPrototypeOf||function a(f,g){return f.__proto__=g,f},b(d,e)}c.exports=b});function eb(c,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),b&&db(c,b)}var S=eb;function fb(c,b,d){return b in c?Object.defineProperty(c,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[b]=d,c}var l=fb,gb="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hb=gb;function ta(){}function ua(){}ua.resetWarningCache=ta;var ib=function(){function c(e,a,f,g,i,h){if(h===hb)return;var k=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw k.name="Invariant Violation",k}c.isRequired=c;function b(){return c}var d={array:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:b,element:c,elementType:c,instanceOf:b,node:c,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:ua,resetWarningCache:ta};return d.PropTypes=d,d},G=E(function(c){c.exports=ib()});function w(){for(var c=[],b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];return d.forEach(function(a){if(!a)return;switch(sa(a)){case"string":c.push(a);break;case"object":Object.keys(a).forEach(function(f){a[f]&&c.push(f)});break;default:c.push("".concat(a))}}),c.join(" ")}var Z;(function(c){c.ANDROID="android",c.IOS="ios"})(Z||(Z={}));var L=Z.ANDROID,H=Z.IOS;function _(c){var b=c||ja&&navigator.userAgent||"";return/android/i.test(b)?L:H}var rc=_();function A(c){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_();return"".concat(c," ").concat(c,"--").concat(b)}var u=E(function(c){function b(){return c.exports=b=Object.assign||function(d){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(d[f]=a[f])}return d},b.apply(this,arguments)}c.exports=b}),va=j.createContext({platform:null,userAgent:""});function $(c){function b(d){var e=j.useContext(va);return j.createElement(c,u({},d,{platform:e.platform||_()}))}return b}function jb(c){var b=c.duration,d=c.timing,e=c.draw;if(typeof window==="undefined")return;var a=window.performance.now();window.requestAnimationFrame(function f(g){var i=(g-a)/b;i>1&&(i=1);var h=d(i);e(h),i<1&&window.requestAnimationFrame(f)})}function kb(c,b){if(c==null)return{};var d={},e=Object.keys(c),a,f;for(f=0;f<e.length;f++){a=e[f];if(b.indexOf(a)>=0)continue;d[a]=c[a]}return d}var lb=kb;function mb(c,b){if(c==null)return{};var d=lb(c,b),e,a;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(c);for(a=0;a<f.length;a++){e=f[a];if(b.indexOf(e)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(c,e))continue;d[e]=c[e]}}return d}var B=mb,ka=function c(b){return b.clientX||b.changedTouches&&b.changedTouches[0].clientX},la=function c(b){return b.clientY||b.changedTouches&&b.changedTouches[0].clientY},nb=typeof window!=="undefined",V=nb&&"ontouchstart"in window;function ob(){return V?["touchstart","touchmove","touchend","touchcancel"]:["mousedown","mousemove","mouseup","mouseleave"]}function wa(c,b){var d=Object.keys(c);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(c);b&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),d.push.apply(d,e)}return d}function ma(c){for(var b=1;b<arguments.length;b++){var d=arguments[b]!=null?arguments[b]:{};b%2?wa(Object(d),!0).forEach(function(e){l(c,e,d[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):wa(Object(d)).forEach(function(e){Object.defineProperty(c,e,Object.getOwnPropertyDescriptor(d,e))})}return c}function pb(c){return function(){var b=x(c),d;if(qb()){var e=x(this).constructor;d=Reflect.construct(b,arguments,e)}else d=b.apply(this,arguments);return R(this,d)}}function qb(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(c){return!1}}var I=ob(),M=function(c){S(d,c);var b=pb(d);function d(e){var a;return P(this,d),a=b.call(this,e),l(o(a),"cancelClick",void 0),l(o(a),"gesture",{}),l(o(a),"container",void 0),l(o(a),"onStart",function(f){a.gesture={startX:ka(f),startY:la(f),startT:new Date(),isPressed:!0};var g=ma({},a.gesture,{originalEvent:f});a.props.onStart&&a.props.onStart(g),a.props.onStartX&&a.props.onStartX(g),a.props.onStartY&&a.props.onStartY(g),!V&&a.subscribe(a.document)}),l(o(a),"onMove",function(f){var g=a.gesture,i=g.isPressed,h=g.isX,k=g.isY,n=g.startX,p=g.startY;if(i){var q=ka(f)-n,m=la(f)-p,r=Math.abs(q),s=Math.abs(m);if(!!f.touches&&f.touches.length>1)return a.onEnd(f);if(!h&&!k){var t=r>=5&&r>s,v=s>=5&&s>r,J=t&&!!a.props.onMoveX||!!a.props.onMove,z=v&&!!a.props.onMoveY||!!a.props.onMove;a.gesture.isY=v,a.gesture.isX=t,a.gesture.isSlideX=J,a.gesture.isSlideY=z,a.gesture.isSlide=J||z}if(a.gesture.isSlide){a.gesture.shiftX=q,a.gesture.shiftY=m,a.gesture.shiftXAbs=r,a.gesture.shiftYAbs=s;var O=ma({},a.gesture,{originalEvent:f});a.props.onMove&&a.props.onMove(O),a.gesture.isSlideX&&a.props.onMoveX&&a.props.onMoveX(O),a.gesture.isSlideY&&a.props.onMoveY&&a.props.onMoveY(O)}}}),l(o(a),"onEnd",function(f){var g=a.gesture,i=g.isPressed,h=g.isSlide,k=g.isSlideX,n=g.isSlideY;if(i){var p=ma({},a.gesture,{originalEvent:f});a.props.onEnd&&a.props.onEnd(p),n&&a.props.onEndY&&a.props.onEndY(p),k&&a.props.onEndX&&a.props.onEndX(p)}var q=f.target;a.cancelClick=q.tagName==="A"&&h,a.gesture={},!V&&a.unsubscribe(a.document)}),l(o(a),"onDragStart",function(f){var g=f.target;(g.tagName==="A"||g.tagName==="IMG")&&f.preventDefault()}),l(o(a),"onClick",function(f){a.cancelClick&&(a.cancelClick=!1,f.preventDefault()),a.props.onClick&&a.props.onClick(f)}),l(o(a),"getRef",function(f){a.container=f;var g=a.props.getRootRef;g&&(typeof g==="function"?g(f):g.current=f)}),a.cancelClick=!1,a}return Q(d,[{key:"componentDidMount",value:function e(){ja&&(this.container.addEventListener(I[0],this.onStart,{capture:this.props.useCapture,passive:!1}),V&&this.subscribe(this.container))}},{key:"componentWillUnmount",value:function e(){this.container.removeEventListener(I[0],this.onStart),V&&this.unsubscribe(this.container)}},{key:"subscribe",value:function e(a){var f={capture:this.props.useCapture,passive:!1};a.addEventListener(I[1],this.onMove,f),a.addEventListener(I[2],this.onEnd,f),a.addEventListener(I[3],this.onEnd,f)}},{key:"unsubscribe",value:function e(a){var f={capture:this.props.useCapture,passive:!1};a.removeEventListener(I[1],this.onMove,f),a.removeEventListener(I[2],this.onEnd,f),a.removeEventListener(I[3],this.onEnd,f)}},{key:"render",value:function e(){var a=this.props,f=a.onStart,g=a.onStartX,i=a.onStartY,h=a.onMove,k=a.onMoveX,n=a.onMoveY,p=a.onEnd,q=a.onEndX,m=a.onEndY,r=a.useCapture,s=a.Component,t=a.getRootRef,v=B(a,["onStart","onStartX","onStartY","onMove","onMoveX","onMoveY","onEnd","onEndX","onEndY","useCapture","Component","getRootRef"]);return j.createElement(s,u({},v,{onDragStart:this.onDragStart,onClick:this.onClick,ref:this.getRef}),this.props.children)}},{key:"document",get:function e(){return this.context.document||document}}]),d}(j.Component);l(M,"defaultProps",{Component:"div",children:"",useCapture:!1}),l(M,"contextTypes",{document:G.object});function xa(c,b){var d=Object.keys(c);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(c);b&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),d.push.apply(d,e)}return d}function rb(c){for(var b=1;b<arguments.length;b++){var d=arguments[b]!=null?arguments[b]:{};b%2?xa(Object(d),!0).forEach(function(e){l(c,e,d[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):xa(Object(d)).forEach(function(e){Object.defineProperty(c,e,Object.getOwnPropertyDescriptor(d,e))})}return c}function ya(c){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],d=rb({},c);return b.forEach(function(e){return delete d[e]}),d}function za(c,b){var d=Object.keys(c);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(c);b&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),d.push.apply(d,e)}return d}function Aa(c){for(var b=1;b<arguments.length;b++){var d=arguments[b]!=null?arguments[b]:{};b%2?za(Object(d),!0).forEach(function(e){l(c,e,d[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):za(Object(d)).forEach(function(e){Object.defineProperty(c,e,Object.getOwnPropertyDescriptor(d,e))})}return c}function sb(c){return function(){var b=x(c),d;if(tb()){var e=x(this).constructor;d=Reflect.construct(b,arguments,e)}else d=b.apply(this,arguments);return R(this,d)}}function tb(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(c){return!1}}var aa="VKUI:View:transition-start",W="VKUI:View:transition-end",D;(function(c){c[c.fail=1]="fail",c[c.success=2]="success"})(D||(D={}));var Ba={},ub=["input","textarea"],Ca=function(c){S(d,c);var b=sb(d);function d(e){var a;return P(this,d),a=b.call(this,e),l(o(a),"transitionFinishTimeout",void 0),l(o(a),"animationFinishTimeout",void 0),l(o(a),"transitionEndHandler",function(f){if(!f||["animation-ios-next-forward","animation-ios-prev-back","animation-android-next-forward","animation-android-prev-back"].includes(f.animationName)){var g=a.props.activePanel,i=a.state.isBack,h=a.state.prevPanel;a.document.dispatchEvent(new a.window.CustomEvent(W)),a.setState({prevPanel:null,nextPanel:null,visiblePanels:[g],activePanel:g,animated:!1,isBack:void 0,scrolls:i?ya(a.state.scrolls,[h]):a.state.scrolls},function(){i&&a.window.scrollTo(0,a.state.scrolls[g]),a.props.onTransition&&a.props.onTransition({isBack:i,from:h,to:g})})}}),l(o(a),"swipingBackTransitionEndHandler",function(f){var g=f.target;if(f.propertyName.includes("transform")&&g.classList.contains("View__panel--swipe-back-next"))switch(a.state.swipeBackResult){case D.fail:a.onSwipeBackCancel();break;case D.success:a.onSwipeBackSuccess()}}),l(o(a),"onScrollTop",function(){var f=a.state.activePanel;if(f){var g=a.document.body.scrollTop||a.document.documentElement.scrollTop;g&&jb({duration:200,timing:function i(h){return Math.sqrt(h)},draw:function i(h){a.window.scrollTo(0,g-h*g)}})}}),l(o(a),"onMoveX",function(f){var g=f.originalEvent.target;if(g&&typeof g.tagName==="string"&&ub.includes(g.tagName.toLowerCase()))return;var i=a.props.platform;i===H&&!a.context.isWebView&&(f.startX<=70||f.startX>=a.window.innerWidth-70)&&!a.state.browserSwipe&&a.setState({browserSwipe:!0});if(i===H&&a.context.isWebView&&a.props.onSwipeBack){if(a.state.animated&&f.startX<=70)return;f.startX<=70&&!a.state.swipingBack&&a.props.history.length>1&&a.setState({swipingBack:!0,swipebackStartX:f.startX,startT:f.startT,swipeBackPrevPanel:a.state.activePanel,swipeBackNextPanel:a.props.history.slice(-2)[0],scrolls:Aa({},a.state.scrolls,l({},a.state.activePanel,a.window.pageYOffset))});if(a.state.swipingBack){var h;f.shiftX<0?h=0:f.shiftX>a.window.innerWidth-a.state.swipebackStartX?h=a.window.innerWidth:h=f.shiftX,a.setState({swipeBackShift:h})}}}),l(o(a),"onEnd",function(){if(a.state.swipingBack){var f=a.state.swipeBackShift/(Date.now()-a.state.startT.getTime())*1e3;a.state.swipeBackShift===0?a.onSwipeBackCancel():a.state.swipeBackShift>=a.window.innerWidth?a.onSwipeBackSuccess():f>250||a.state.swipebackStartX+a.state.swipeBackShift>a.window.innerWidth/2?a.setState({swipeBackResult:D.success}):a.setState({swipeBackResult:D.fail})}}),a.state={scrolls:Ba[e.id]||{},animated:!1,visiblePanels:[e.activePanel],activePanel:e.activePanel,isBack:void 0,prevPanel:null,nextPanel:null,swipingBack:!1,swipebackStartX:0,swipeBackShift:0,swipeBackNextPanel:null,swipeBackPrevPanel:null,swipeBackResult:null,browserSwipe:!1},a}return Q(d,[{key:"componentWillUnmount",value:function e(){this.props.id&&(Ba[this.props.id]=this.state.scrolls)}},{key:"componentDidUpdate",value:function e(a,f){var g=this;this.props.popout&&!a.popout&&this.blurActiveElement(),this.props.modal&&!a.modal&&this.blurActiveElement();if(a.activePanel!==this.props.activePanel&&!f.swipingBack&&!f.browserSwipe){var i=this.panels.find(function(t){return t.props.id===a.activePanel||t.props.id===g.props.activePanel}),h=i&&i.props.id===this.props.activePanel;this.blurActiveElement(),this.setState({visiblePanels:[a.activePanel,this.props.activePanel],prevPanel:a.activePanel,nextPanel:this.props.activePanel,activePanel:null,animated:!0,scrolls:Aa({},f.scrolls,l({},a.activePanel,this.window.pageYOffset)),isBack:h})}if(a.activePanel!==this.props.activePanel&&f.swipingBack){var k=this.props.activePanel,n=a.activePanel;this.setState({swipeBackPrevPanel:null,swipeBackNextPanel:null,swipingBack:!1,swipeBackResult:null,swipebackStartX:0,swipeBackShift:0,activePanel:k,visiblePanels:[k],scrolls:ya(f.scrolls,[f.swipeBackPrevPanel])},function(){g.document.dispatchEvent(new g.window.CustomEvent(W)),window.scrollTo(0,f.scrolls[g.state.activePanel]),a.onTransition&&a.onTransition({isBack:!0,from:n,to:k})})}var p=this.state.scrolls;if(!f.animated&&this.state.animated){this.document.dispatchEvent(new this.window.CustomEvent(aa,{detail:{scrolls:p}}));var q=this.pickPanel(this.state.nextPanel),m=this.pickPanel(this.state.prevPanel);m.scrollTop=p[this.state.prevPanel],this.state.isBack&&(q.scrollTop=p[this.state.nextPanel]),this.waitAnimationFinish(this.pickPanel(this.state.isBack?this.state.prevPanel:this.state.nextPanel),this.transitionEndHandler)}if(!f.swipingBack&&this.state.swipingBack){this.document.dispatchEvent(new this.window.CustomEvent(aa,{detail:{scrolls:p}})),this.props.onSwipeBackStart&&this.props.onSwipeBackStart();var r=this.pickPanel(this.state.swipeBackNextPanel),s=this.pickPanel(this.state.swipeBackPrevPanel);r.scrollTop=p[this.state.swipeBackNextPanel],s.scrollTop=p[this.state.swipeBackPrevPanel]}!f.swipeBackResult&&this.state.swipeBackResult&&this.waitTransitionFinish(this.pickPanel(this.state.swipeBackNextPanel),this.swipingBackTransitionEndHandler),f.swipeBackResult===D.fail&&!this.state.swipeBackResult&&this.window.scrollTo(0,p[this.state.activePanel]),a.activePanel!==this.props.activePanel&&this.state.browserSwipe&&this.setState({browserSwipe:!1,nextPanel:null,prevPanel:null,animated:!1,visiblePanels:[this.props.activePanel],activePanel:this.props.activePanel})}},{key:"shouldDisableTransitionMotion",value:function e(){return this.context.transitionMotionEnabled===!1}},{key:"waitTransitionFinish",value:function e(a,f){clearTimeout(this.transitionFinishTimeout),this.transitionFinishTimeout=setTimeout(f,this.props.platform===L?300:600)}},{key:"waitAnimationFinish",value:function e(a,f){if(this.shouldDisableTransitionMotion()){f();return}clearTimeout(this.animationFinishTimeout),this.animationFinishTimeout=setTimeout(f,this.props.platform===L?300:600)}},{key:"blurActiveElement",value:function e(){typeof this.window!=="undefined"&&this.document.activeElement&&this.document.activeElement.blur()}},{key:"pickPanel",value:function e(a){var f=this.document.getElementById(a);return f||console.warn("Element #".concat(a," not found")),f&&f.parentNode.parentNode}},{key:"onSwipeBackSuccess",value:function e(){this.props.onSwipeBack&&this.props.onSwipeBack()}},{key:"onSwipeBackCancel",value:function e(){var a=this;this.setState({swipeBackPrevPanel:null,swipeBackNextPanel:null,swipingBack:!1,swipeBackResult:null,swipebackStartX:0,swipeBackShift:0},function(){a.document.dispatchEvent(new a.window.CustomEvent(W))})}},{key:"calcPanelSwipeStyles",value:function e(a){var f=a===this.state.swipeBackPrevPanel,g=a===this.state.swipeBackNextPanel;if(!f&&!g||this.state.swipeBackResult)return{};var i="".concat(this.state.swipeBackShift,"px"),h="".concat(-50+this.state.swipeBackShift*100/this.window.innerWidth/2,"%"),k=.3*(this.window.innerWidth-this.state.swipeBackShift)/this.window.innerWidth;return this.state.swipeBackResult?f?{boxShadow:"-2px 0 12px rgba(0, 0, 0, ".concat(k,")")}:{}:g?{transform:"translate3d(".concat(h,", 0, 0)"),WebkitTransform:"translate3d(".concat(h,", 0, 0)")}:f?{transform:"translate3d(".concat(i,", 0, 0)"),WebkitTransform:"translate3d(".concat(i,", 0, 0)"),boxShadow:"-2px 0 12px rgba(0, 0, 0, ".concat(k,")")}:{}}},{key:"render",value:function e(){var a=this,f=this.props,g=f.style,i=f.popout,h=f.modal,k=f.platform,n=this.state,p=n.prevPanel,q=n.nextPanel,m=n.activePanel,r=n.swipeBackPrevPanel,s=n.swipeBackNextPanel,t=n.swipeBackResult,v=!!i,J=!!h,z=this.panels.filter(function(K){var C=K.props.id;return a.state.visiblePanels.includes(C)||C===r||C===s}),O={"View--animated":this.state.animated,"View--swiping-back":this.state.swipingBack,"View--no-motion":this.shouldDisableTransitionMotion()};return j.createElement(M,{Component:"section",className:w(A("View",k),this.props.className,O),style:g,onMoveX:this.onMoveX,onEnd:this.onEnd},j.createElement("div",{className:"View__panels"},z.map(function(K){var C=K.props.id;return j.createElement("div",{className:w("View__panel",{"View__panel--active":C===m,"View__panel--prev":C===p,"View__panel--next":C===q,"View__panel--swipe-back-prev":C===r,"View__panel--swipe-back-next":C===s,"View__panel--swipe-back-success":t===D.success,"View__panel--swipe-back-failed":t===D.fail}),style:a.calcPanelSwipeStyles(C),key:C},j.createElement("div",{className:"View__panel-in"},K))})),v&&j.createElement("div",{className:"View__popout"},i),J&&j.createElement("div",{className:"View__modal"},h))}},{key:"document",get:function e(){return this.context.document||document}},{key:"window",get:function e(){return this.context.window||window}},{key:"panels",get:function e(){return[].concat(this.props.children)}}]),d}(j.Component);l(Ca,"defaultProps",{history:[]}),l(Ca,"contextTypes",{isWebView:G.bool,window:G.any,document:G.any,transitionMotionEnabled:G.bool});var Da=48;function vb(c){if(Array.isArray(c))return c}var wb=vb;function xb(c,b){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(c)))return;var d=[],e=!0,a=!1,f=void 0;try{for(var g=c[Symbol.iterator](),i;!(e=(i=g.next()).done);e=!0){d.push(i.value);if(b&&d.length===b)break}}catch(h){a=!0,f=h}finally{try{!e&&g.return!=null&&g.return()}finally{if(a)throw f}}return d}var yb=xb;function zb(c,b){(b==null||b>c.length)&&(b=c.length);for(var d=0,e=new Array(b);d<b;d++)e[d]=c[d];return e}var Ea=zb;function Ab(c,b){if(!c)return;if(typeof c==="string")return Ea(c,b);var d=Object.prototype.toString.call(c).slice(8,-1);d==="Object"&&c.constructor&&(d=c.constructor.name);if(d==="Map"||d==="Set")return Array.from(d);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Ea(c,b)}var Bb=Ab;function Cb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Db=Cb;function Eb(c,b){return wb(c)||yb(c,b)||Bb(c,b)||Db()}var Fb=Eb;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ba=function(){return ba=Object.assign||function c(b){for(var d,e=1,a=arguments.length;e<a;e++){d=arguments[e];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(b[f]=d[f])}return b},ba.apply(this,arguments)};function Gb(c,b){var d={};for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&b.indexOf(e)<0&&(d[e]=c[e]);if(c!=null&&typeof Object.getOwnPropertySymbols==="function")for(var a=0,e=Object.getOwnPropertySymbols(c);a<e.length;a++)b.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(c,e[a])&&(d[e[a]]=c[e[a]]);return d}function na(){for(var c=0,b=0,d=arguments.length;b<d;b++)c+=arguments[b].length;for(var e=Array(c),a=0,b=0;b<d;b++)for(var f=arguments[b],g=0,i=f.length;g<i;g++,a++)e[a]=f[g];return e}function Hb(){return{current:0,next:function(){return++this.current}}}function Ib(){var c=Hb(),b={};return{add:function(d,e){var a=e!=null?e:c.next();return b[a]=d,a},resolve:function(d,e,a){var f=b[d];f&&(a(e)?f.resolve(e):f.reject(e),b[d]=null)}}}function Jb(c,b){var d=Ib();return b(function(e){if(!e.detail||!e.detail.data)return;if("request_id"in e.detail.data){var a=e.detail.data,f=a.request_id,g=Gb(a,["request_id"]);f&&d.resolve(f,g,function(i){return!("error_type"in i)})}}),function e(a,f){return f===void 0&&(f={}),new Promise(function(g,i){var h=d.add({resolve:g,reject:i},f.request_id);c(a,ba(ba({},f),{request_id:h}))})}}var ca=typeof window!=="undefined",da=Boolean(ca&&window.AndroidBridge),X=Boolean(ca&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),T=ca&&!da&&!X,Kb=T&&/(^\?|&)vk_platform=mobile_web(&|$)/.test(location.search),Lb=T&&!Kb,Mb=T?"message":"VKWebAppEvent",Nb=na(["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGeodata","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppLeaveGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowCommunityWidgetPreviewBox","VKWebAppShowStoryBox","VKWebAppStorageGet","VKWebAppStorageGetKeys","VKWebAppStorageSet"],Lb?["VKWebAppResizeWindow","VKWebAppAddToMenu","VkWebAppShowSubscriptionBox","VkWebAppShowInstallPushBox"]:[]),Y=ca?window.AndroidBridge:void 0,N=X?window.webkit.messageHandlers:void 0;function Ob(c){var b=void 0,d=[];function e(k,n){Y&&Y[k]?Y[k](JSON.stringify(n)):N&&N[k]&&typeof N[k].postMessage==="function"?N[k].postMessage(n):T&&parent.postMessage({handler:k,params:n,type:"vk-connect",webFrameId:b,connectVersion:c},"*")}function a(k){d.push(k)}function f(k){var n=d.indexOf(k);n>-1&&d.splice(n,1)}function g(k){if(da)return!!(Y&&typeof Y[k]==="function");{if(X)return!!(N&&N[k]&&typeof N[k].postMessage==="function");if(T)return Nb.indexOf(k)>-1}return!1}function i(){return X||da}typeof window!=="undefined"&&"addEventListener"in window&&window.addEventListener(Mb,function(k){if(X||da)return na(d).map(function(r){return r.call(null,k)});if(T&&k&&k.data){var n=k.data,p=n.type,q=n.data,m=n.frameId;p&&p==="VKWebAppSettings"?b=m:na(d).map(function(r){return r({detail:{type:p,data:q}})})}});var h=Jb(e,a);return{send:h,sendPromise:h,subscribe:a,unsubscribe:f,supports:g,isWebView:i}}function Pb(){function c(b,d){var e=d||{bubbles:!1,cancelable:!1,detail:void 0},a=document.createEvent("CustomEvent");return a.initCustomEvent(b,!!e.bubbles,!!e.cancelable,e.detail),a}return c.prototype=Event.prototype,c}var Qb="2.2.6";typeof window!=="undefined"&&!window.CustomEvent&&(window.CustomEvent=Pb());var oa=Ob(Qb);function Fa(c,b){var d=Object.keys(c);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(c);b&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),d.push.apply(d,e)}return d}function Rb(c){for(var b=1;b<arguments.length;b++){var d=arguments[b]!=null?arguments[b]:{};b%2?Fa(Object(d),!0).forEach(function(e){l(c,e,d[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):Fa(Object(d)).forEach(function(e){Object.defineProperty(c,e,Object.getOwnPropertyDescriptor(d,e))})}return c}var Ga={bottom:null,top:null,left:null,right:null};function Ha(c){var b=c.detail,d=b.type,e=b.data;switch(d){case"VKWebAppUpdateConfig":case"VKWebAppUpdateInsets":var a=e.insets;if(a)return Rb({},a,{bottom:a.bottom>150?0:a.bottom})}return null}oa.subscribe(function(c){var b=Ha(c);if(b){var d=window.document.documentElement;for(var e in b)b.hasOwnProperty(e)&&b[e]>0&&d.style.setProperty("--safe-area-inset-".concat(e),"".concat(b[e],"px"));Ga=b}});function Sb(){var c=j.useState(Ga),b=Fb(c,2),d=b[0],e=b[1];return j.useEffect(function(){function a(f){var g=Ha(f);g&&e(g)}return oa.subscribe(a),function(){oa.unsubscribe(a)}},[]),d}function Ia(c){function b(d){var e=Sb();return j.createElement(c,u({},d,{insets:e}))}return b}function Ja(c){return!isNaN(parseFloat(c))&&isFinite(c)}function Ka(c){return c!==void 0&&c!==!1&&c!==null}var pa=j.createContext({});function Tb(c){return function(){var b=x(c),d;if(Ub()){var e=x(this).constructor;d=Reflect.construct(b,arguments,e)}else d=b.apply(this,arguments);return R(this,d)}}function Ub(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(c){return!1}}var qa=function(c){S(d,c);var b=Tb(d);function d(){var e;P(this,d);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return e=b.call.apply(b,[this].concat(f)),l(o(e),"container",void 0),l(o(e),"getRef",function(i){e.container=i;var h=e.props.getRootRef;h&&(typeof h==="function"?h(i):h.current=i)}),e}return Q(d,[{key:"getContext",value:function e(){return{panel:this.props.id,separator:this.props.separator}}},{key:"render",value:function e(){var a=this.props,f=a.className,g=a.centered,i=a.children,h=a.insets,k=a.platform,n=a.separator,p=a.getRootRef,q=B(a,["className","centered","children","insets","platform","separator","getRootRef"]),m=this.context.hasTabbar?Da:0;return j.createElement(pa.Provider,{value:this.getContext()},j.createElement("div",u({},q,{ref:this.getRef,className:w(A("Panel",k),f,{"Panel--centered":g})}),j.createElement(M,{className:"Panel__in",style:{paddingBottom:Ja(h.bottom)?h.bottom+m:null}},k===H&&j.createElement("div",{className:"Panel__fade"}),j.createElement("div",{className:"Panel__in-before"}),g?j.createElement("div",{className:"Panel__centered"},i):i,j.createElement("div",{className:"Panel__in-after"}))))}}]),d}(j.Component);l(qa,"defaultProps",{children:"",centered:!1,separator:!0}),l(qa,"contextTypes",{hasTabbar:G.bool});var Vb=$(Ia(qa)),Wb=j.createContext(!1);function Xb(c){var b=c.getBoundingClientRect();return{top:b.top,left:b.left,width:c.offsetWidth,height:c.offsetHeight}}function La(c,b){var d=Object.keys(c);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(c);b&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),d.push.apply(d,e)}return d}function Ma(c){for(var b=1;b<arguments.length;b++){var d=arguments[b]!=null?arguments[b]:{};b%2?La(Object(d),!0).forEach(function(e){l(c,e,d[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):La(Object(d)).forEach(function(e){Object.defineProperty(c,e,Object.getOwnPropertyDescriptor(d,e))})}return c}function Yb(c){return function(){var b=x(c),d;if(Zb()){var e=x(this).constructor;d=Reflect.construct(b,arguments,e)}else d=b.apply(this,arguments);return R(this,d)}}function Zb(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(c){return!1}}var Na=function c(){return+Date.now()},_b=70,$b=600,y={};function Oa(c){Object.keys(y).filter(function(b){return b!==c}).forEach(function(b){clearTimeout(y[b].activeTimeout),clearTimeout(y[b].timeout),y[b].stop(),delete y[b]})}var Pa=function(c){S(d,c);var b=Yb(d);function d(e){var a;return P(this,d),a=b.call(this,e),l(o(a),"id",void 0),l(o(a),"isSlide",void 0),l(o(a),"insideTouchRoot",void 0),l(o(a),"container",void 0),l(o(a),"timeout",void 0),l(o(a),"wavesTimeout",void 0),l(o(a),"onStart",function(f){var g=f.originalEvent;!a.insideTouchRoot&&a.props.stopPropagation&&g.stopPropagation();if(g.touches&&g.touches.length>1){Oa();return}a.props.platform===L&&a.onDown(g),y[a.id]={stop:a.stop,activeTimeout:window.setTimeout(a.start,_b)}}),l(o(a),"onMove",function(f){var g=f.originalEvent,i=f.shiftXAbs,h=f.shiftYAbs;!a.insideTouchRoot&&a.props.stopPropagation&&g.stopPropagation(),(i>20||h>20)&&(a.isSlide=!0,a.stop())}),l(o(a),"onEnd",function(f){var g=f.originalEvent;!a.insideTouchRoot&&a.props.stopPropagation&&g.stopPropagation();var i=Na();if(g.touches&&g.touches.length>0){a.isSlide=!1,a.stop();return}if(a.state.active)if(i-a.state.ts>=100)a.stop();else{var h=window.setTimeout(a.stop,a.props.activeEffectDelay-i+a.state.ts),k=a.getStorage();k&&(k.timeout=h)}else if(!a.isSlide){a.start();var n=window.setTimeout(a.stop,a.props.activeEffectDelay);a.getStorage()?(clearTimeout(a.getStorage().activeTimeout),a.getStorage().timeout=n):a.timeout=n}a.isSlide=!1}),l(o(a),"onDown",function(f){if(a.props.platform===L){var g=Xb(a.container),i=g.top,h=g.left,k=ka(f)-h,n=la(f)-i,p="wave"+Date.now().toString();a.setState(function(q){return{clicks:Ma({},q.clicks,l({},p,{x:k,y:n}))}}),a.wavesTimeout=window.setTimeout(function(){a.setState(function(q){var m=Ma({},q.clicks);return delete m[p],{clicks:m}})},225)}}),l(o(a),"start",function(){a.state.active||a.setState({active:!0,ts:Na()}),Oa(a.id)}),l(o(a),"stop",function(){a.state.active&&a.setState({active:!1,ts:null}),a.getStorage()&&(clearTimeout(a.getStorage().activeTimeout),delete y[a.id])}),l(o(a),"getStorage",function(){return y[a.id]}),l(o(a),"getRef",function(f){a.container=f;var g=a.props.getRootRef;g&&(typeof g==="function"?g(f):g.current=f)}),a.id=Math.round(Math.random()*1e8).toString(16),a.state={clicks:{},active:!1,ts:null},a.isSlide=!1,a}return Q(d,[{key:"componentWillUnmount",value:function e(){y[this.id]&&(clearTimeout(y[this.id].timeout),clearTimeout(y[this.id].activeTimeout),delete y[this.id]),clearTimeout(this.wavesTimeout)}},{key:"render",value:function e(){var a=this,f=this.state,g=f.clicks,i=f.active,h=this.props,k=h.children,n=h.className,p=h.Component,q=h.activeEffectDelay,m=h.stopPropagation,r=h.getRootRef,s=h.platform,t=B(h,["children","className","Component","activeEffectDelay","stopPropagation","getRootRef","platform"]),v=w(A("Tappable",s),n,{"Tappable--active":i,"Tappable--inactive":!i}),J=t.disabled?p:M,z={};return t.disabled?z.ref=this.getRef:(z.Component=p,z.onStart=this.onStart,z.onMove=this.onMove,z.onEnd=this.onEnd,z.getRootRef=this.getRef),j.createElement(Wb.Consumer,null,function(O){return a.insideTouchRoot=O,j.createElement(J,u({},t,{className:v},z),s===L&&j.createElement("span",{className:"Tappable__waves"},Object.keys(g).map(function(K){return j.createElement("span",{className:"Tappable__wave",style:{top:g[K].y,left:g[K].x},key:K})})),k)})}}]),d}(j.Component);l(Pa,"defaultProps",{Component:"div",role:"button",stopPropagation:!1,disabled:!1,activeEffectDelay:$b});var Qa=$(Pa);function U(){var c=j.useContext(va);return c.platform||_()}var Ra=function c(b){var d=b.className,e=b.children,a=b.primary,f=b.label,g=B(b,["className","children","primary","label"]),i=typeof e==="string"||typeof e==="number",h=g.href?"a":"button",k=U();return j.createElement(Qa,u({},g,{Component:h,activeEffectDelay:200,className:w(A("PanelHeaderButton",k),d,{"PanelHeaderButton--primary":a,"PanelHeaderButton--primitive":i})}),e,f)};Ra.defaultProps={primary:!1};function ac(c){function b(d){var e=j.useContext(pa),a=e.panel,f=e.separator;return j.createElement(c,u({},d,{panel:a,separator:f}))}return b}function Sa(c,b){var d=Object.keys(c);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(c);b&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),d.push.apply(d,e)}return d}function bc(c){for(var b=1;b<arguments.length;b++){var d=arguments[b]!=null?arguments[b]:{};b%2?Sa(Object(d),!0).forEach(function(e){l(c,e,d[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):Sa(Object(d)).forEach(function(e){Object.defineProperty(c,e,Object.getOwnPropertyDescriptor(d,e))})}return c}function cc(c){return function(){var b=x(c),d;if(dc()){var e=x(this).constructor;d=Reflect.construct(b,arguments,e)}else d=b.apply(this,arguments);return R(this,d)}}function dc(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(c){return!1}}var Ta=function(c){S(d,c);var b=cc(d);function d(){var e;P(this,d);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return e=b.call.apply(b,[this].concat(f)),l(o(e),"state",{position:null,top:null}),l(o(e),"el",void 0),l(o(e),"onViewTransitionStart",function(i){var h=i.detail.scrolls[e.props.panel]||0;e.setState({position:"absolute",top:e.el.offsetTop+h})}),l(o(e),"onViewTransitionEnd",function(){e.setState({position:null,top:null})}),l(o(e),"getRef",function(i){e.el=i;var h=e.props.getRootRef;h&&(typeof h==="function"?h(i):h.current=i)}),e}return Q(d,[{key:"componentDidMount",value:function e(){this.document.addEventListener(aa,this.onViewTransitionStart),this.document.addEventListener(W,this.onViewTransitionEnd)}},{key:"componentWillUnmount",value:function e(){this.document.removeEventListener(aa,this.onViewTransitionStart),this.document.removeEventListener(W,this.onViewTransitionEnd)}},{key:"render",value:function e(){var a=this.props,f=a.className,g=a.children,i=a.style,h=a.vertical,k=a.getRootRef,n=a.insets,p=a.platform,q=a.filled,m=a.separator,r=B(a,["className","children","style","vertical","getRootRef","insets","platform","filled","separator"]),s=this.context.hasTabbar?Da:0,t=h==="bottom"&&Ja(n.bottom)?n.bottom+s:null;return j.createElement("div",u({},r,{ref:this.getRef,className:w(A("FixedLayout",p),{"FixedLayout--filled":q},"FixedLayout--".concat(h),f),style:bc({},i,{},this.state,{paddingBottom:t})}),j.createElement("div",{className:"FixedLayout__in"},g))}},{key:"document",get:function e(){return this.context.document||document}}]),d}(j.Component);l(Ta,"contextTypes",{document:G.any,hasTabbar:G.bool});var ec=$(Ia(ac(Ta))),fc=function c(b){var d=b.className,e=b.wide,a=B(b,["className","wide"]),f=U();return j.createElement("div",u({},a,{className:w(A("Separator",f),d,{"Separator--wide":e})}),j.createElement("div",{className:"Separator__in"}))},Ua=j.memo(fc),Va;(function(c){c.DARK="dark",c.LIGHT="light"})(Va||(Va={}));var Wa;(function(c){c.DEPRECATED_CLIENT_LIGHT="client_light",c.DEPRECATED_CLIENT_DARK="client_dark",c.BRIGHT_LIGHT="bright_light",c.SPACE_GRAY="space_gray"})(Wa||(Wa={}));var ea;(function(c){c.VKAPPS="vkapps",c.INTERNAL="internal"})(ea||(ea={}));var gc=j.createContext({}),Xa=function c(b){var d=b.className,e=b.left,a=b.addon,f=b.children,g=b.right,i=b.separator,h=b.visor,k=b.transparent,n=b.getRef,p=b.getRootRef,q=B(b,["className","left","addon","children","right","separator","visor","transparent","getRef","getRootRef"]),m=U(),r=j.useContext(gc),s=r.webviewType,t=j.useContext(pa),v=i;typeof i!=="boolean"&&(v=t.separator);var J=typeof f==="string"||typeof f==="number";return j.createElement("div",u({},q,{className:w(A("PanelHeader",m),{"PanelHeader--trnsp":k,"PanelHeader--vis":h,"PanelHeader--sep":v&&h,"PanelHeader--vkapps":s===ea.VKAPPS,"PanelHeader--no-left":e===void 0,"PanelHeader--no-right":g===void 0},d),ref:p}),j.createElement(ec,{vertical:"top",className:"PanelHeader__fixed",getRootRef:n},j.createElement("div",{className:"PanelHeader__in"},j.createElement("div",{className:"PanelHeader__left"},e,m!==L&&a),j.createElement("div",{className:"PanelHeader__content"},J?j.createElement("span",null,f):f),j.createElement("div",{className:"PanelHeader__right"},s!==ea.VKAPPS&&g))),v&&h&&j.createElement(Ua,{className:"PanelHeader__separator"}))};Xa.defaultProps={separator:!0,transparent:!1,visor:!0};var Ya=function c(b){var d=b.className,e=b.mode,a=b.children,f=b.subtitle,g=b.indicator,i=b.aside,h=b.getRootRef,k=B(b,["className","mode","children","subtitle","indicator","aside","getRootRef"]),n=U(),p=A("Header",n);return j.createElement("div",u({},k,{ref:h,className:w(p,d,"Header--mode-".concat(e),{"Header--pi":typeof g==="string"||typeof g==="number"})}),j.createElement("div",{className:"Header__in"},j.createElement("div",{className:"Header__content"},a,f&&j.createElement("div",{className:"Header__subtitle"},f)),g&&j.createElement("div",{className:"Header__indicator"},g),i&&j.createElement("div",{className:"Header__aside"},i)))};Ya.defaultProps={mode:"primary"};var Za=function c(b){var d=b.header,e=b.description,a=b.className,f=b.children,g=b.separator,i=b.getRootRef,h=B(b,["header","description","className","children","separator","getRootRef"]),k=U(),n=A("Group",k);return j.createElement("section",u({},h,{ref:i,className:w(n,a)}),d,f,e&&j.createElement("div",{className:"Group__description"},e),g!=="hide"&&j.createElement(Ua,{className:w("Group__separator",{"Group__separator--force":g==="show"})}))};Za.defaultProps={separator:"auto"};var hc=E(function(c,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var d=g(j.__moduleExports),e=g(fa),a=g(ga),f=g(ha);function g(m){return m&&m.__esModule?m:{default:m}}var i="0 0 16 24",h="chevron_24",k='<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 24" id="chevron_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v24H0z" /><path d="M4.706 7.706a1 1 0 010-1.412l.088-.088a.997.997 0 011.414.002l5.084 5.084a.998.998 0 010 1.416l-5.084 5.084a1.002 1.002 0 01-1.414.002l-.088-.088a.995.995 0 010-1.412L9 12 4.706 7.706z" fill="currentColor" /></g></symbol>';if(a.default){var n=new e.default({id:h,viewBox:i,content:k});a.default.add(n)}function p(m){return d.default.createElement(f.default,(0,ia.assign)({},m,{viewBox:i,id:h,width:isNaN(m.width)?16:+m.width,height:isNaN(m.height)?24:+m.height}))}var q=p;b.default=q}),ic=function c(b){var d=b.before,e=b.indicator,a=b.children,f=b.after,g=b.description,i=b.className,h=b.expandable,k=b.multiline,n=B(b,["before","indicator","children","after","description","className","expandable","multiline"]),p=U(),q=Ka(f)||h&&p===H;return j.createElement(Qa,u({},n,{Component:n.href?"a":"div",className:w(i,A("SimpleCell",p),{"SimpleCell--exp":h,"SimpleCell--mult":k})}),d,j.createElement("div",{className:"SimpleCell__main"},j.createElement("div",{className:"SimpleCell__children"},a),g&&j.createElement("div",{className:"SimpleCell__description"},g)),Ka(e)&&j.createElement("div",{className:"SimpleCell__indicator"},e),q&&j.createElement("div",{className:"SimpleCell__after"},f,h&&p===H&&j.createElement(hc,null)))},jc=E(function(c,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var d=g(j.__moduleExports),e=g(fa),a=g(ga),f=g(ha);function g(m){return m&&m.__esModule?m:{default:m}}var i="0 0 16 16",h="search_outline_16",k='<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="search_outline_16"><g fill="none" fill-rule="evenodd" opacity=".92"><path opacity=".1" d="M0 0h16v16H0z" /><path d="M9.823 10.884a5.5 5.5 0 111.06-1.06l3.896 3.9a.75.75 0 01-1.061 1.06l-3.895-3.9zM6.5 10.5a4 4 0 100-8 4 4 0 000 8z" fill="currentColor" fill-rule="nonzero" /></g></symbol>';if(a.default){var n=new e.default({id:h,viewBox:i,content:k});a.default.add(n)}function p(m){return d.default.createElement(f.default,(0,ia.assign)({},m,{viewBox:i,id:h,width:isNaN(m.width)?16:+m.width,height:isNaN(m.height)?16:+m.height}))}var q=p;b.default=q}),kc=E(function(c,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var d=g(j.__moduleExports),e=g(fa),a=g(ga),f=g(ha);function g(m){return m&&m.__esModule?m:{default:m}}var i="0 0 16 16",h="clear_16",k='<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="clear_16"><path d="M6.729 8.002L4.263 10.47a.9.9 0 101.273 1.273L8 9.275l2.465 2.468a.9.9 0 101.272-1.273L9.273 8.002l2.465-2.469a.9.9 0 10-1.272-1.273L8 6.728 5.536 4.26a.9.9 0 00-1.273 1.273l2.466 2.469zM8 16A8 8 0 118 0a8 8 0 010 16z" fill="currentColor" fill-rule="evenodd" /></symbol>';if(a.default){var n=new e.default({id:h,viewBox:i,content:k});a.default.add(n)}function p(m){return d.default.createElement(f.default,(0,ia.assign)({},m,{viewBox:i,id:h,width:isNaN(m.width)?16:+m.width,height:isNaN(m.height)?16:+m.height}))}var q=p;b.default=q});function lc(c){return function(){var b=x(c),d;if(mc()){var e=x(this).constructor;d=Reflect.construct(b,arguments,e)}else d=b.apply(this,arguments);return R(this,d)}}function mc(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(c){return!1}}var nc=0,_a=function(c){S(d,c);var b=lc(d);function d(e){var a;P(this,d),a=b.call(this,e),l(o(a),"isControlledOutside",void 0),l(o(a),"inputEl",void 0),l(o(a),"searchId",void 0),l(o(a),"onFocus",function(g){a.setState({focused:!0}),a.props.onFocus&&a.props.onFocus(g)}),l(o(a),"onBlur",function(g){a.setState({focused:!1}),a.props.onBlur&&a.props.onBlur(g)}),l(o(a),"onChange",function(g){var i=g.target;a.isControlledOutside||a.setState({value:i.value}),a.props.onChange&&a.props.onChange(g)}),l(o(a),"onCancel",function(){var g=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;g.call(a.inputEl,"");var i=new Event("input",{bubbles:!0});a.inputEl.dispatchEvent(i)}),l(o(a),"onIconClickStart",function(g){a.props.onIconClick&&a.props.onIconClick(g.originalEvent)}),l(o(a),"onIconCancelClickStart",function(g){g.originalEvent.preventDefault(),a.inputEl.focus(),a.onCancel()}),l(o(a),"inputRef",function(g){var i=a.props.getRef;a.inputEl=g,i&&(typeof i==="function"?i(g):i.current=g)});var f={focused:!1};return e.hasOwnProperty("value")?a.isControlledOutside=!0:f.value=e.defaultValue||"",a.searchId="search-".concat(nc++),a.state=f,a}return Q(d,[{key:"render",value:function e(){var a=this.props,f=a.className,g=a.onFocus,i=a.onBlur,h=a.onChange,k=a.defaultValue,n=a.value,p=a.placeholder,q=a.after,m=a.getRef,r=a.platform,s=a.icon,t=a.onIconClick,v=B(a,["className","onFocus","onBlur","onChange","defaultValue","value","placeholder","after","getRef","platform","icon","onIconClick"]);return j.createElement("div",{className:w(A("Search",r),{"Search--focused":this.state.focused,"Search--has-value":!!this.value,"Search--has-after":!!q,"Search--has-icon":!!s},f)},j.createElement("div",{className:"Search__in"},j.createElement("div",{className:"Search__width"}),j.createElement("div",{className:"Search__control"},j.createElement("input",u({},v,{ref:this.inputRef,type:"text",className:"Search__input",onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,value:this.value})),r===H&&q&&j.createElement("div",{className:"Search__after-width"},q),j.createElement("div",{className:"Search__placeholder"},j.createElement("div",{className:"Search__placeholder-in"},j.createElement(jc,null),j.createElement("div",{className:"Search__placeholder-text",dangerouslySetInnerHTML:{__html:p}})))),j.createElement("div",{className:"Search__after",onClick:this.onCancel},j.createElement("div",{className:"Search__icons"},s&&j.createElement(M,{onStart:this.onIconClickStart,className:"Search__icon"},s),!!this.value&&j.createElement(M,{onStart:this.onIconCancelClickStart,className:"Search__icon"},j.createElement(kc,null))),r===H&&q&&j.createElement("div",{className:"Search__after-in"},q))))}},{key:"value",get:function e(){return this.isControlledOutside?this.props.value:this.state.value}}]),d}(j.Component);l(_a,"defaultProps",{autoComplete:"off",placeholder:"Поиск",after:"Отмена"});var oc=$(_a);export{Za as Group,Ya as Header,Vb as Panel,Xa as PanelHeader,Ra as PanelHeaderButton,oc as Search,ic as SimpleCell};
