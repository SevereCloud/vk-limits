import*as b from"../web_modules/react.js";import{Panel as i,PanelHeader as j,Header as k,Group as l,Search as m,PanelHeaderButton as h,SimpleCell as n}from"../web_modules/@vkontakte/vkui.js";import"../web_modules/@vkontakte/vkui/dist/vkui.css.proxy.js";import{data as o}from"./data.js";import p from"../web_modules/@vkontakte/icons/dist/28/moon_outline.js";import q from"./icons/IconGitHub.js";export class App extends b.Component{constructor(a){super(a);this.state={activeView:"main",activePanel:"main",scheme:"bright_light",search:""},this.onChange=this.onChange.bind(this),this.changeScheme=this.changeScheme.bind(this)}onChange(a){this.setState({search:a.target.value})}get limits(){const a=this.state.search.toLowerCase(),e=[];return o.forEach(c=>{if(c.name.toLowerCase().indexOf(a)>-1)e.push(c);else{const f=[];c.items.forEach(g=>{(g.name.toLowerCase().indexOf(a)>-1||g.text.toLowerCase().indexOf(a)>-1||g.hint&&g.hint.toLowerCase().indexOf(a)>-1)&&f.push(g)}),f.length>0&&e.push({name:c.name,color:c.color,items:f})}}),e}changeScheme(){const a=this.state.scheme==="bright_light"?"space_gray":"bright_light",e=document.createAttribute("scheme");e.value=a,document.body.attributes.setNamedItem(e),this.setState({scheme:a})}render(){return b.createElement(i,{id:"main"},b.createElement(j,{left:b.createElement(h,{onClick:()=>{this.changeScheme()}},b.createElement(p,{width:24,height:24})),right:b.createElement(h,{onClick:()=>{this.changeScheme()}},b.createElement(q,null))},"Лимиты"),b.createElement(m,{value:this.state.search,onChange:this.onChange,after:null}),this.limits.map((a,e)=>b.createElement(l,{key:e,header:b.createElement(k,{mode:"secondary"},a.name)},a.items.map((c,f)=>b.createElement(n,{key:f,multiline:!0,before:b.createElement(c.icon,{fill:a.color}),description:c.text,href:c.link,target:"_blank"},c.name,c.hint&&b.createElement("span",{style:{color:"var(--text_secondary)"}}," "+c.hint))))))}}
